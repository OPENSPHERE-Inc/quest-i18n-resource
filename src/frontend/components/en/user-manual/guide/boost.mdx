# ガイド - ブースト

> ユーザー登録時にウォレットのセットアップが行われています。
> 「Symbol アカウントを変更したい」等の理由で、再セットアップが必要な方以外は「ウォレットのセットアップ」を飛ばしてください。

---

## 1. ウォレットのセットアップ

QUEST は決済システムの基盤として [Symbolブロックチェーン](https://docs.symbol.dev/) を採用しています。
ブロックチェーン基盤ですから、支払に使用する通貨は暗号資産になり、Symbolブロックチェーンでは「XYM（ジム）」と呼ばれる通貨になります。

暗号資産で支払を行ったり、受け取った暗号資産を確認したりするには「ウォレット」と呼ばれるクライアントアプリケーションを使用します。

QUEST には支払を行うだけの簡易的なウォレット機能を内蔵しています。この機能には以下の二通りモードがあります。

- ブラウザウォレット
- ワンタイムウォレット

これらはサインアップ時に設定を行っていますが、設定で後から変更することも可能です。

> 未払いの請求書がある場合は Symbol アカウントの設定を変更することはできません。

> Symbol アカウントの変更を行った場合、それまで受けていたブーストは以前の Symbol アカウントに着金します。
> 変更以降に受けたブーストは新しく登録した Symbol アカウントに着金します。

### 1.1. ブラウザウォレット

ブラウザのローカルストレージに秘密鍵を暗号化して保存する方式です。
任意のパスフレーズを鍵として暗号化するため、支払をするときはパスフレーズを入力するだけで済みます。

ただしブラウザのローカルストレージですから、設定したブラウザでのみ有効となります。

#### 設定手順

1. **DASHBOARD** を開いて、「<img src="/user-manual/user-cog-solid.svg" className="inline" height="12" />（設定）」ボタンを押してください。

   ![Boost 001](/user-manual/ja/guide/boost-001.png)

2. **SETTINGS** が開きますので、「Symbolアカウント」を選択してください。
3. 「ブラウザウォレットを使用」にチェックを入れてください。
4. 「秘密鍵」に、新しく登録する Symbol アカウントの **秘密鍵** をコピー＆ペーストしてください。
5. 「パスフレーズ」に、支払時に、ブラウザに暗号化して保存した秘密鍵を復号するためのキーとなるパスフレーズを決めて入力してください。
6. 「続行」ボタンを押してください。

   ![Boost 002](/user-manual/ja/guide/boost-002.png)

7. **再度サインインしてください** ダイアログが表示されますので、サインイン用のパスワードを入力して「サインイン」ボタンを押してください。

   ![Boost 003](/user-manual/ja/guide/boost-003.png)

8. 以上で設定完了です。**SETTINGS** で「ウォレット」を選択した際、**ブラウザウォレットが有効です** と表示されます。

   ![Boost 004](/user-manual/ja/guide/boost-004.png)


### 1.2. ワンタイムウォレット

支払の度に秘密鍵の入力を行う方式です。
毎回秘密鍵をコピー＆ペーストする必要があるため非常に面倒ですが、秘密鍵をどこにも保存しないため管理がしやすい方法です。

#### 設定手順

1. **DASHBOARD** を開いて、「<img src="/user-manual/user-cog-solid.svg" className="inline" height="12" />（設定）」ボタンを押してください。

   ![Boost 001](/user-manual/ja/guide/boost-001.png)

2. **SETTINGS** が開きますので、「Symbolアカウント」を選択してください。
3. 「ワンタイムウォレットを使用」にチェックを入れてください。
4. 「パブリックキー」に、新しく登録する Symbol アカウントの **公開鍵** をコピー＆ペーストしてください。
5. 「続行」ボタンを押してください。

   ![Boost 005](/user-manual/ja/guide/boost-005.png)

6. **再度サインインしてください** ダイアログが表示されますので、サインイン用のパスワードを入力して「サインイン」ボタンを押してください。

   ![Boost 003](/user-manual/ja/guide/boost-003.png)

7. **アクティベーションコードをデスクトップから送信してください。** というメッセージが表示されます。<br />
   **デスクトップウォレットを使用しアクティベーションコードを送信する方法** の指示に従って、
   新しく登録する Symbol アカウントからアクティベーションコードを Symbol ブロックチェーンに送信してください。

   ![Boost 006](/user-manual/ja/guide/boost-006.png)

8. Symbol ブロックチェーンに送信したアクティベーションコードが QUEST に認識されれば自動的に設定完了となります。

> アクティベーションコードが QUEST に認識されなければ、Symbol アカウントの切換えは行われません。

> 設定をやめたい場合は **アクティベーションコードをデスクトップから送信してください。** メッセージ右横に表示された「キャンセル」ボタンを押してください。

---

## 2. クエストをブーストする

1. **クエストページ** を開き「ブースト」ボタンを押してください。

   ![Boost 007](/user-manual/ja/guide/boost-007.png)

2. **BOOST** フォームが開きますので、以下のように入力してください。
   - ①金額: ブーストする金額を 1 以上の XYM で入力してください。デフォルトでは最大 `5,000 XYM` まで設定可能です。
   - ②金額にブースト手数料を含める: ブースト＋手数料で、金額ピッタリになるように調整します。調整の結果、手数料を除いた金額が 1 XYM 未満になるとエラーになります。
   - ③メッセージ: ブーストに付けるメッセージを入力してください。最大 `1,000 文字` まで入力可能です。
   - ④ブースト戦略: 以下の中からブースト戦略を選択してください（各戦略の詳細は[こちら](#boost_strategy)）
     - A.実行者を信頼
     - B.投票結果を信頼
     - C.最終判断が必要

     > ブースト戦略をブースト作成後に変更することはできません。戦略の選択を間違った場合は、支払いを行う前であれば一旦キャンセルしてから再作成してください。
     > 尚、一旦支払ったブーストのキャンセルはできません。

   ![Boost 008](/user-manual/ja/guide/boost-008.png)

3. 以下の隠し項目は必ずしも触る必要はありません。
   - ⑤リミットブレイク: `5,000 XYM` の最大値を超えてブーストしたい場合に使用します。お財布にダメージを与える可能性があるので、ご利用の際には注意してください。<br />
     「リミットブレイク」を開いたら、「ブレイク発動！」ボタンを押してください。<br />
     **リミットブレイクの確認** ダイアログが表示されるので「OK」ボタンを押してください。<br />
     この状態で `Lv x2` のリミットブレイクで、最大 `10,000 YXM` までブースト可能となります。
     更に上限を引き上げるには「<img src="/user-manual/level-up-alt-solid.svg" className="inline" height="12" /> ブレイクLv」ボタンを押してください。<br />
     ブレイクLv の最大は `x20` です（最大 `100,000 XYM`）<br />
     リミットブレイクをやめる場合は「<img src="/user-manual/power-off-solid.svg" className="inline" height="12" />」ボタンを押してください。<br />

     ![Boost 009](/user-manual/ja/guide/boost-009.png)

   - ⑥言語: メッセージがどの言語で書かれているかの設定です。デフォルトでプロフィールの言語が選択されています。

     ![Boost 010](/user-manual/ja/guide/boost-010.png)

4. 「チェックアウト」ボタンを押してください。**ブーストの確認** ダイアログが開きますので、金額や手数料を確認の上「OK」ボタンを押してください。

   ![Boost 011](/user-manual/ja/guide/boost-011.png)

5. 未払いの **ブースト請求書** が作成されます。

> 未払いのブースト請求書は最大10件まで保持することができます。未払いが10件ある状態ではそれ以上のブーストが行えなくなります。
>
> ブースト請求書に支払期限は特にありません。クエスト終了後に支払ってもブーストは有効です。ただし、当然ながら終了までに支払いを済ませないと投票権を得られません。

<div id="boost_strategy" />

#### ブースト戦略

| ブースト戦略                                                                                                                 | ブースト<br />手数料（税込） |
|------------------------------------------------------------------------------------------------------------------------|-------------------|
| **A.実行者を信頼**<br />投票終了後、承認されたかどうかに関わらず、クライアントのブーストはパフォーマーに送金されます（ただしクエスト中止や期限切れを除く）                                    | `1.1 XYM`         |
| **B.投票結果を信頼**<br />投票で承認されると、クライアントのブーストはパフォーマーに自動的に送金されます。                                                            | `2.2 XYM`         |
| **C.最終判断が必要**<br />投票で承認された後、24 時間以内でクライアント自身で授与するか返金するか選択できます。判断しないまま期限を過ぎると返金されます。尚、選択したブースト戦略に応じてプラットフォーム手数料が変わります。 | `3.3 XYM`         |

---

## 3. 請求書の支払いを行う

> 「トランザクション」とは Symbol ブロックチェーンに書き込む「取引」の事を指します。この場合ブーストとプラットフォーム手数料を支払う取引です。
> トランザクションに秘密鍵でサイン（署名）することで、Symbol ブロックチェーンに書き込むトランザクションデータに変換できます。
>
> また、Symbol ブロックチェーンにトランザクションを書き込むには、トランザクション手数料をネットワークに対して支払う必要があります。
> 手数料は `基本手数料` x `トランザクションデータのサイズ` によって決まります。
> `基本手数料` は任意に設定可能で、多い方がより優先して処理される仕組みになっています。
>
> QUEST では、提案されたいくつかの手数料（最速、平均、遅い、最遅）から選ぶ仕組みにしています。
> 金額を直接設定できる「カスタム」もありますが、上級者向けの機能です。

### 3.1. ワンタイムウォレットの場合

1. **DASHBOARD** を開き **未払いのブースト** から支払を行う請求書を選んでください。

   ![Boost 012](/user-manual/ja/guide/boost-012.png)

2. **INVOICE OF BOOST** が開きます。**お支払い** フォームまでスクロールしてください。
3. 「支払アドレス」を確認してください。請求書ではこのアドレスからの支払のみ受け付けます。
4. 「トランザクション手数料」を選択してください。少額になればなるほど、Symbol ブロックチェーンでトランザクションが処理される順番が遅くなります。
   通常は「平均」または「遅い」を選んでおけば問題ないでしょう。
5. 「秘密鍵」に、支払アドレスの秘密鍵をコピー＆ペーストしてください。
6. 「支払い実行」ボタンを押して次に進んでください。

   ![Boost 013](/user-manual/ja/guide/boost-013.png)

### 3.2. デスクトップウォレットの場合

1. **DASHBOARD** を開き **未払いのブースト** から支払を行う請求書を選んでください。

   ![Boost 012](/user-manual/ja/guide/boost-012.png)

2. **INVOICE OF BOOST** が開きます。**お支払い** フォームまでスクロールしてください。
3. 「支払アドレス」を確認してください。請求書ではこのアドレスからの支払のみ受け付けます。
4. 「トランザクション手数料」を選択してください。少額になればなるほど、Symbol ブロックチェーンでトランザクションが処理される順番が遅くなります。
   通常は「平均」または「遅い」を選んでおけば問題ないでしょう。
5. 「パスフレーズ」に、ブラウザウォレットにアクセスするためのパスフレーズ（パスワード）を入力してください。
6. 「支払い実行」ボタンを押して次に進んでください。

   ![Boost 014](/user-manual/ja/guide/boost-014.png)

### 3.3. トランザクションの確認

#### QUEST が支払を確認する前

「支払い実行」を押した後は、**お支払** フォームの表示が切り替わり、
**支払いトランザクションがブロックチェーンに送信されました。確認を待っています・・・** と表示されます。

「トランザクション情報」リンクを押すと、**ブロックエクスプローラー（Symbol ブロックチェーンの内容を確認できる外部サイト）** が開き、
今実行した支払トランザクションの詳細を確認することができます。

![Boost 015](/user-manual/ja/guide/boost-015.png)

データが表示されれば正常に実行できているので、支払がうまく実行されたかどうか気になる方は、ブロックエクスプローラーでトランザクションを確認してください。
尚、データが表示反映されるまでにも少々時間がかかり、この時間は選んだ「トランザクション手数料」に依存します。

> #### トランザクションをやり直す
>
> 何らかの理由で、トランザクションがうまく実行できなかった場合、やり直すことができます。
>
> 1. **支払いトランザクションがブロックチェーンに送信されました。確認を待っています・・・** と表示されているパネルの
>    右上の「<img src="/user-manual/times-circle-solid.svg" className="inline" height="12" />」を押してください。
>
>    ![Boost 017](/user-manual/ja/guide/boost-017.png)
>
> 2. **トランザクション送信に問題がありましたか？** 確認ダイアログが開きますので、やり直しを進める場合「OK」ボタンを押してください。
>
>    ![Boost 018](/user-manual/ja/guide/boost-018.png)
>
> 3. 再び **お支払い** フォームが表示されます。
>
> 尚、重複して支払うことは出来ない仕組みになっているので、誤ってトランザクションを再実行してもエラーになります。

#### QUEST が支払を確認した後

**ブースト請求書** の「トランザクション」に、以下の様なブロックエクスプローラーへのリンクが表示されます。

- 手数料: プラットフォーム手数料を支払ったトランザクション
- ブースト: ブーストを支払ったトランザクション（通常は手数料と同一）
- 授与: ブーストをパフォーマーに授与した時に、QUEST が自動実行したトランザクション。通常は他の多数のブーストと一緒にまとまっています。

![Boost 016](/user-manual/ja/guide/boost-016.png)

---

## 4. 請求書をキャンセルする

未払いの請求書はキャンセルすることができます。
キャンセルするとそのメッセージもクエストページに掲載されることはありません。

1. **INVOICE OF BOOST** を開いて一番下までスクロールしてください。
2. 「請求書をキャンセルする」を押して、**危険ゾーン** を表示してください。
3. **危険ゾーン** にある「キャンセル」ボタンを押してください。

   ![Boost 019](/user-manual/ja/guide/boost-019.png)

4. **キャンセルの確認** ダイアログが開きますので、このままキャンセルしてよければ「OK」を押してください。

   ![Boost 020](/user-manual/ja/guide/boost-020.png)

5. ブースト請求書のステータスが「キャンセル」になりました。

   ![Boost 021](/user-manual/ja/guide/boost-021.png)

> 一度支払いをした後、QUEST が支払を認識するまでの間に5分～10分程度のタイムラグがありますが、
> 万が一その間にキャンセルをした場合、支払った XYM は以下のようになりますのでご注意ください。
>
> - ブースト: ロック期間の後に返金されます
> - プラットフォーム手数料: **返金されません**
> - トランザクション手数料: **返金されません**


